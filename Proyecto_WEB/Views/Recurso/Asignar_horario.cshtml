@{
    ViewData["Title"] = "Asignar agenda";
}

<body>
    <div class="container  mb-4">
        <div class="row mt-4">
            <h2 class="fs-1" style="color: black">Agenda del recurso</h2>
        </div>
        <div class="mt-3 mb-3">
            <div class="border border-black rounded container p-3">
                <h3 style="color: black">Asignar Horarios</h3>
                <div class="col-4 mt-2">
                    <div class="form-group">
                        <label for="encargado">Seleccione el recurso</label>
                        <select class="form-select" id="encargado" name="encargado" required>
                            <option value="" disabled selected></option>
                            @foreach (var rec in ViewBag.Recursos)
                            {
                                <option value="@rec.Pk_recurso">@rec.Nombre</option>
                            }
                        </select>
                        <div class="invalid-feedback">Campo necesario</div>
                    </div>
                </div>
                <p class="mt-2">Seleccione los dias que estará disponible el recurso</p>
                <div>
                    <ul class="d-flex justify-content-between">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="lunes">
                            <label class="form-check-label" for="lunes">
                                Lunes
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="2" id="Martes">
                            <label class="form-check-label" for="Martes">
                                Martes
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="3" id="Miercoles">
                            <label class="form-check-label" for="Miercoles">
                                Miercoles
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="4" id="Jueves">
                            <label class="form-check-label" for="Jueves">
                                Jueves
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="5" id="Viernes">
                            <label class="form-check-label" for="Viernes">
                                Viernes
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="6" id="Sabado">
                            <label class="form-check-label" for="Sabado">
                                Sabado
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="0" id="Domingo">
                            <label class="form-check-label" for="Domingo">
                                Domingo
                            </label>
                        </div>
                        <div class="">
                            <button type="button" class="btn btn-secondary" onclick="seleccionarTodos()">
                                Todos
                            </button>
                        </div>
                    </ul>
                </div>
                <div class="d-flex justify-content-between">
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="fechaInicio">Fecha inicio</label>
                        <input type="date" class="form-control" id="fechaInicio" name="fechaInicio" required />
                        <div class="invalid-feedback">fecha necesaria</div>
                    </div>
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="fechaFin">Fecha fin</label>
                        <input type="date" class="form-control" id="fechaFin" name="fechaFin" required />
                        <div class="invalid-feedback">Fecha necesaria</div>
                    </div>
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="hora_inicio">Hora inicio</label>
                        <input type="time" class="form-control" id="hora_inicio" name="hora_inicio" required />
                        <div class="invalid-feedback">Hora necesaria</div>
                    </div>
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="hora_fin">Hora fin</label>
                        <input type="time" class="form-control" id="hora_fin" name="hora_fin" required />
                        <div class="invalid-feedback">Hora necesaria</div>
                    </div>
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="intervalo">Duración (Minutos)</label>
                        <input type="number" class="form-control" id="intervalo" name="intervalo" step="1" max="360"
                               min="10" required />
                        <div class="invalid-feedback">Duración necesaria</div>
                    </div>
                    <div class="row justify-content-center text-center col-2 form-group">
                        <label for="costo">Costo</label>
                        <input type="text" class="form-control" id="costo" name="costo" pattern="[0-9]+" required placeholder="0"/>
                        <div class="invalid-feedback">Costo necesario</div>
                    </div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                    <button type="button" class="btn btn-success ms-2 mb-2" onclick="generarPlanificacion()">
                        Asignar
                    </button>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="d-flex justify-content-between">
                <h3 style="color: black">Horarios</h3>
                <div class="">
                    <button type="button" id="confirmar" class="btn btn-primary">Confirmar agenda</button>
                </div>
            </div>
            <fieldset class="container mt-3 mb-3" style="height: 25rem; overflow-y: scroll">
                <table class="table table-striped table-hover text-center" id="agenda">
                    <thead>
                        <tr>
                            <th scope="col">Dia</th>
                            <th scope="col">Fecha</th>
                            <th scope="col">Hora</th>
                            <th scope="col">Duración</th>
                            <th scope="col">Costo</th>
                            <th scope="col">_</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>

    <script src="~/js/horario.js" asp-append-version="true"></script>

</body>